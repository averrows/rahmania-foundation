---
import { getCollection } from "astro:content";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";
const allPrograms = await getCollection("programs");
---

<section
  id="programs"
  class="py-24 bg-gray-50 px-8 justify-items-center
    lg:px-8 md:px-8"
>
  <div class="container
    flex
    flex-col
    text-left
    z-10">
    <h2 class="text-3xl md:text-4xl font-normal mb-4">
      Rahmania
      <span class="text-emerald-400">meningkatkan kualitas hidup</span>
      <br />
      banyak orang
    </h2>
    <p class="text-lg md:text-xl mb-12">
      Kami membantu anak yatim, UMKM, dan masyarakat kurang mampu untuk
      meningkatkan kualitas hidup dengan pendidikan dan pelatihan bermodal.
    </p>

    <div class="w-full grid grid-cols-3 gap-4 hidden md:grid lg:grid">
      {
        allPrograms.slice(1, 4).map((program, index) => (
          <div class="relative w-full grid grid-cols-2 gap-4">
            {program.data.images.map((image, index) => (
              <div
                class={`relative ${
                  index === 0 ? "col-span-2 bg-[#e6f2ef]" : ""
                } ${index === 1 ? "mt-12" : ""}`}
              >
                <Image
                  src={image.src}
                  alt={image.alt}
                  class={`w-full h-full ${
                    index === 0 ? "p-8" : ""
                  } object-cover lg:object-cover object-contain`}
                />
              </div>
            ))}
          </div>
        ))
      }
    </div>
    <div class="lg:hidden md:hidden grid grid-cols-1 gap-4">
      {
        allPrograms.slice(2, 3).map((program, index) => (
          <div class="relative w-full grid grid-cols-2 gap-4">
            {program.data.images.map((image, index) => (
              <div
                class={`relative ${
                  index === 0 ? "col-span-2 bg-[#e6f2ef]" : ""
                } ${index === 1 ? "mt-12" : ""}`}
              >
                <Image
                  src={image.src}
                  alt={image.alt}
                  class={`w-full h-full ${
                    index === 0 ? "p-8" : ""
                  } object-cover lg:object-cover object-contain`}
                />
              </div>
            ))}
          </div>
        ))
      }
    </div>

    <a
      class="flex flex-row text-lg justify-end mt-4 text-blue-600 items-center"
      href="/programs"
    >
      Lihat Semua Program
      <Icon name="lucide:arrow-right" class="w-6 h-6" />
    </a>
  </div>
</section>
